{"version":3,"sources":["context/user-context.js","context/comment-context.js","components/layout/DeleteModal.jsx","components/user/UserAvatar.jsx","components/layout/Header.jsx","components/comment/ScoreWidget.jsx","components/user/UserTag.jsx","utils/get-parent.js","components/comment/CommentInput.jsx","components/comment/NewComment.jsx","components/comment/CommentEdits.jsx","components/comment/Comment.jsx","components/comment/CommentThread.jsx","components/layout/Footer.jsx","data.js","App.jsx","index.js"],"names":["UserCtx","React","createContext","users","activeUser","setActiveUser","CommentCtx","thread","genId","addComment","editComment","deleteComment","DeleteModal","_ref","onConfirm","onCancel","react_default","a","createElement","className","onClick","UserAvatar","user","userCtx","useContext","concat","username","src","image","alt","setActiveUserCtx","Header","href","target","rel","map","components_user_UserAvatar","key","ScoreWidget","props","_useState","useState","score","_useState2","Object","slicedToArray","setScore","voteHandler","inc","prevScore","type","id","UserTag","getParentRef","newStateObj","parentIndices","_step","parentPtr","_iterator","_createForOfIteratorHelper","s","n","done","value","replies","err","e","f","CommentInput","comment","parents","idx","onReply","editing","onEdited","commentCtx","buttonTxt","startingContent","content","setContent","autoFocus","name","onFocus","ev","parent","length","lastParent","getParentComment","setSelectionRange","onChange","cols","rows","editedComment","objectSpread","newComment","createdAt","NewComment","components_comment_CommentInput","CommentEdits","onEditClick","Comment","replyVis","setReplyVis","_useState3","_useState4","editMode","setEditMode","components_comment_ScoreWidget","components_user_UserTag","components_comment_CommentEdits","prevState","components_comment_NewComment","toConsumableArray","reply","rIdx","CommentThread","comments","components_comment_Comment","Footer","staticData","replyingTo","App","data","setData","_useState5","_useState6","idGen","setIdGen","defaultAlertState","vis","_useState7","_useState8","alert","setAlert","deleteCommentHandler","deleteIdx","newState","splice","comment_context","Provider","prevId","push","user_context","App_createForOfIteratorHelper","components_layout_DeleteModal","components_layout_Header","comment_CommentThread","components_layout_Footer","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.f8217311.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst UserCtx = React.createContext({\r\n  users: [],\r\n  activeUser: {},\r\n  setActiveUser: () => {},\r\n});\r\n\r\nexport default UserCtx;\r\n","import React from \"react\";\r\n\r\nconst CommentCtx = React.createContext({\r\n  thread: {},\r\n  genId: () => {},\r\n  addComment: () => {},\r\n  editComment: () => {},\r\n  deleteComment: () => {},\r\n});\r\n\r\nexport default CommentCtx;\r\n","import React from \"react\";\r\n\r\nimport \"./DeleteModal.css\";\r\n\r\nconst DeleteModal = ({ onConfirm, onCancel }) => {\r\n  return (\r\n    <div className='center-me'>\r\n      <div className='delete-modal'>\r\n        <h2>Delete comment</h2>\r\n        <p>\r\n          Are you sure you want to delete this comment? This will remove the\r\n          comment and can't be undone.\r\n        </p>\r\n        <div className='modal-btns'>\r\n          <button className='btn-modal btn-cancel' onClick={onCancel}>\r\n            no, cancel\r\n          </button>\r\n          <button className='btn-modal btn-confirm' onClick={onConfirm}>\r\n            yes, delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteModal;\r\n","import React, { useContext } from \"react\";\r\nimport UserCtx from \"../../context/user-context\";\r\n\r\nimport \"./UserAvatar.css\";\r\n\r\nconst UserAvatar = ({ user }) => {\r\n  const userCtx = useContext(UserCtx);\r\n\r\n  const userSelectHandler = (username) => {\r\n    userCtx.setActiveUserCtx(username);\r\n  };\r\n\r\n  return (\r\n    <img\r\n      className={`avatar ${\r\n        userCtx.activeUser.username === user.username ? \"active\" : \"\"\r\n      }`}\r\n      src={user.image}\r\n      alt='comment author'\r\n      onClick={() => userSelectHandler(user.username)}\r\n    />\r\n  );\r\n};\r\n\r\nexport default UserAvatar;\r\n","import React, { useContext } from \"react\";\r\nimport UserCtx from \"../../context/user-context\";\r\nimport UserAvatar from \"../user/UserAvatar\";\r\nimport \"./Header.css\";\r\n\r\nconst Header = () => {\r\n  const userCtx = useContext(UserCtx);\r\n  return (\r\n    <div className='header'>\r\n      <div className='header-title'>\r\n        <h2>Frontend Mentor Challenge</h2>\r\n        <a\r\n          href='https://www.frontendmentor.io/challenges/interactive-comments-section-iG1RugEG9'\r\n          className='header-subtitle'\r\n          target='_blank'\r\n          rel='noopener noreferrer'\r\n        >\r\n          - Interactive Comments\r\n        </a>\r\n      </div>\r\n      <div className='users'>\r\n        <span className='user-select-label'>Simulate active user &rarr;</span>\r\n        {userCtx.users.map((user) => (\r\n          <UserAvatar user={user} key={user.username} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState } from \"react\";\r\nimport \"./ScoreWidget.css\";\r\n\r\nconst ScoreWidget = (props) => {\r\n  const [score, setScore] = useState(props.score);\r\n\r\n  const voteHandler = (inc) => {\r\n    setScore((prevScore) => prevScore + inc);\r\n  };\r\n\r\n  return (\r\n    <div className='vote-widget'>\r\n      <button\r\n        type='button'\r\n        className='vote-btn up-vote'\r\n        onClick={() => voteHandler(1)}\r\n      >\r\n        <img src='./images/icon-plus.svg' alt='up-vote' />\r\n      </button>\r\n      <div className='vote-count'>\r\n        <span id='score'>{score}</span>\r\n      </div>\r\n      <button\r\n        type='button'\r\n        className='vote-btn down-vote'\r\n        onClick={() => voteHandler(-1)}\r\n      >\r\n        <img src='./images/icon-minus.svg' alt='down-vote' />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScoreWidget;\r\n","import React, { useContext } from \"react\";\r\n\r\nimport UserCtx from \"../../context/user-context\";\r\nimport UserAvatar from \"./UserAvatar\";\r\nimport \"./UserTag.css\";\r\n\r\nconst UserTag = ({ user }) => {\r\n  const userCtx = useContext(UserCtx);\r\n\r\n  return (\r\n    <div className='user-tag'>\r\n      <UserAvatar user={user} />\r\n      <span className='user-name'>{user.username}</span>\r\n      {userCtx.activeUser.username === user.username && (\r\n        <div className='you'>you</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserTag;\r\n","// Helper function to get reference of parent object.replies[]\r\nexport const getParentRef = (newStateObj, parentIndices) => {\r\n  let parentPtr = newStateObj;\r\n  for (let idx of parentIndices) {\r\n    parentPtr = parentPtr[idx].replies;\r\n  }\r\n  return parentPtr;\r\n};\r\n\r\n// Helper function to get parent comment object\r\nexport const getParentComment = (thread, parentIndices) => {\r\n  let parentPtr = thread;\r\n  const lastParent = parentIndices.length - 1;\r\n  for (let idx in parentIndices) {\r\n    if (idx < lastParent) {\r\n      parentPtr = parentPtr[parentIndices[idx]].replies;\r\n    } else {\r\n      parentPtr = parentPtr[parentIndices[idx]];\r\n    }\r\n  }\r\n  return parentPtr;\r\n};\r\n","import React, { useContext, useState } from \"react\";\r\n\r\nimport CommentCtx from \"../../context/comment-context\";\r\nimport UserCtx from \"../../context/user-context\";\r\nimport { getParentComment } from \"../../utils/get-parent\";\r\nimport \"./CommentInput.css\";\r\n\r\nconst CommentInput = ({\r\n  comment,\r\n  type,\r\n  parents,\r\n  idx,\r\n  onReply,\r\n  editing,\r\n  onEdited,\r\n}) => {\r\n  const userCtx = useContext(UserCtx);\r\n  const commentCtx = useContext(CommentCtx);\r\n\r\n  const buttonTxt =\r\n    type === \"reply\" ? \"reply\" : type === \"update\" ? \"update\" : \"send\";\r\n  const startingContent = comment\r\n    ? comment.content\r\n    : `Add a ${type === \"reply\" ? \"response\" : \"comment\"}...`;\r\n\r\n  const onSubmitHandler = () => {\r\n    const newComment = {\r\n      id: commentCtx.genId(),\r\n      content: content,\r\n      createdAt: \"Just now\",\r\n      score: 0,\r\n      user: userCtx.activeUser,\r\n      replies: [],\r\n    };\r\n    onReply();\r\n    setContent(startingContent);\r\n    commentCtx.addComment(newComment, parents);\r\n  };\r\n\r\n  const onEditSubmitHandler = () => {\r\n    const editedComment = { ...comment };\r\n    editedComment.content = content;\r\n    onEdited();\r\n    commentCtx.editComment(editedComment, parents, idx);\r\n  };\r\n\r\n  const [content, setContent] = useState(startingContent);\r\n\r\n  const contentFocus = (ev) => {\r\n    if (type !== \"update\") {\r\n      // get parent comment for '@parent-author '\r\n      let parent;\r\n      if (parents && parents.length > 0) {\r\n        parent = getParentComment(commentCtx.thread, parents);\r\n      }\r\n      setContent(parent ? `@${parent.user.username} ` : \"\");\r\n    }\r\n    // Set caret position\r\n    ev.target.setSelectionRange(content.length, content.length);\r\n  };\r\n\r\n  const contentChange = (ev) => {\r\n    setContent(ev.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className={`comment-input-block ${type === \"update\" && \"editing\"}`}>\r\n      <textarea\r\n        autoFocus={editing}\r\n        name='comment-content'\r\n        id='comment-content'\r\n        className='comment-input-content'\r\n        value={content}\r\n        onFocus={contentFocus}\r\n        onChange={contentChange}\r\n        cols='30'\r\n        rows='3'\r\n      >\r\n        {content}\r\n      </textarea>\r\n      <button\r\n        type='button'\r\n        className='comment-submit-btn'\r\n        onClick={editing ? onEditSubmitHandler : onSubmitHandler}\r\n      >\r\n        {buttonTxt}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentInput;\r\n","import React, { useContext } from \"react\";\r\nimport UserCtx from \"../../context/user-context\";\r\nimport UserAvatar from \"../user/UserAvatar\";\r\nimport CommentInput from \"./CommentInput\";\r\nimport \"./NewComment.css\";\r\n\r\nconst NewComment = ({ type, parents, onReply, editing }) => {\r\n  const userCtx = useContext(UserCtx);\r\n\r\n  return (\r\n    <div className='new-comment-block comment'>\r\n      <span className='avatar'>\r\n        <UserAvatar user={userCtx.activeUser} />\r\n      </span>\r\n      <CommentInput\r\n        type={type}\r\n        parents={parents}\r\n        onReply={onReply}\r\n        editing={editing}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewComment;\r\n","import React, { useContext } from \"react\";\r\n\r\nimport CommentCtx from \"../../context/comment-context\";\r\nimport \"./CommentEdits.css\";\r\n\r\nconst CommentEdits = ({ parents, idx, onEditClick }) => {\r\n  const commentCtx = useContext(CommentCtx);\r\n\r\n  return (\r\n    <div className='comment-edits'>\r\n      <button\r\n        type='button'\r\n        className='edit-btn delete'\r\n        onClick={() => commentCtx.deleteComment(parents, idx)}\r\n      >\r\n        <img src='/images/icon-delete.svg' alt='delete comment' />\r\n        delete\r\n      </button>\r\n      <button type='button' className='edit-btn edit' onClick={onEditClick}>\r\n        <img src='/images/icon-edit.svg' alt='edit comment' />\r\n        edit\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentEdits;\r\n","import React, { useContext, useState } from \"react\";\r\n\r\nimport ScoreWidget from \"./ScoreWidget\";\r\nimport UserTag from \"../user/UserTag\";\r\nimport CommentInput from \"./CommentInput\";\r\nimport NewComment from \"./NewComment\";\r\nimport CommentEdits from \"./CommentEdits\";\r\nimport UserCtx from \"../../context/user-context\";\r\nimport \"./Comment.css\";\r\n\r\nconst Comment = ({ comment, parents, idx }) => {\r\n  const userCtx = useContext(UserCtx);\r\n\r\n  const [replyVis, setReplyVis] = useState(false);\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  const replyClickHandler = () => {\r\n    setReplyVis((prevState) => !prevState);\r\n  };\r\n\r\n  const editModeHandler = () => {\r\n    setEditMode((prevState) => !prevState);\r\n  };\r\n\r\n  return (\r\n    <div className={`comment-block ${parents.length > 0 ? \"is-reply\" : \"\"}`}>\r\n      <div className='comment'>\r\n        <ScoreWidget score={comment.score} />\r\n        <div className='comment-content'>\r\n          <div className='comment-content_head'>\r\n            <div className='user-meta'>\r\n              <UserTag user={comment.user} />\r\n              <span className='posted'>{comment.createdAt}</span>\r\n            </div>\r\n            {comment.user.username === userCtx.activeUser.username ? (\r\n              <CommentEdits\r\n                comment={comment}\r\n                parents={parents}\r\n                idx={idx}\r\n                onEditClick={editModeHandler}\r\n              />\r\n            ) : (\r\n              <div className='reply' onClick={replyClickHandler}>\r\n                <span className='reply-svg'>\r\n                  <img src='./interactive-comments-react/images/icon-reply.svg' alt='reply' />\r\n                </span>\r\n                <span>reply</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className='comment-content_body'>\r\n            {editMode ? (\r\n              <CommentInput\r\n                comment={comment}\r\n                editing={editMode}\r\n                onEdited={() => setEditMode(false)}\r\n                type='update'\r\n                parents={parents}\r\n                idx={idx}\r\n              ></CommentInput>\r\n            ) : (\r\n              <p>{comment.content}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {replyVis && (\r\n        <NewComment\r\n          type={\"reply\"}\r\n          editing={false}\r\n          parents={[...parents, idx]}\r\n          onReply={() => setReplyVis(false)}\r\n        />\r\n      )}\r\n      {comment.replies.length > 0 && (\r\n        <div className='reply-block'>\r\n          <div className='reply-line-tab'>\r\n            <span className='reply-line'></span>\r\n          </div>\r\n          <div className='replies'>\r\n            {comment.replies.map((reply, rIdx) => (\r\n              <Comment\r\n                key={reply.id}\r\n                comment={reply}\r\n                parents={[...parents, idx]}\r\n                idx={rIdx}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import React from \"react\";\r\n\r\nimport Comment from \"./Comment\";\r\nimport NewComment from \"./NewComment\";\r\nimport \"./CommentThread.css\";\r\n\r\nfunction CommentThread({ comments }) {\r\n  return (\r\n    <main className='comments'>\r\n      {comments.map((comment, idx) => (\r\n        <Comment key={comment.id} comment={comment} parents={[]} idx={idx} />\r\n      ))}\r\n      <NewComment parents={[]} onReply={() => {}} />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default CommentThread;\r\n","import React from \"react\";\r\n\r\nimport \"./Footer.css\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className='footer'>\r\n      <section className='attributions'>\r\n        <p>\r\n          Challenge and materials provided by{\" \"}\r\n          <a\r\n            href='https://www.frontendmentor.io/home'\r\n            target='_blank'\r\n            rel='noopener noreferrer'\r\n          >\r\n            Frontend Mentor\r\n          </a>\r\n        </p>\r\n        <p>\r\n          Created using{\" \"}\r\n          <a\r\n            href='https://reactjs.org/'\r\n            target='_blank'\r\n            rel='noopener noreferrer'\r\n          >\r\n            React\r\n          </a>\r\n        </p>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","const staticData = {\n  comments: [\n    {\n      id: 1,\n      content:\n        \"Impressive! Though it seems the drag feature could be improved. But overall it looks incredible. You've nailed the design and the responsiveness at various breakpoints works really well.\",\n      createdAt: \"1 month ago\",\n      score: 12,\n      user: {\n        image: \"./images/avatars/image-amyrobson.png\",\n        username: \"amyrobson\",\n      },\n      replies: [],\n    },\n    {\n      id: 2,\n      content:\n        \"Woah, your project looks awesome! How long have you been coding for? I'm still new, but think I want to dive into React as well soon. Perhaps you can give me an insight on where I can learn React? Thanks!\",\n      createdAt: \"2 weeks ago\",\n      score: 5,\n      user: {\n        image: \"./images/avatars/image-maxblagun.png\",\n        username: \"maxblagun\",\n      },\n      replies: [\n        {\n          id: 3,\n          content:\n            \"If you're still new, I'd recommend focusing on the fundamentals of HTML, CSS, and JS before considering React. It's very tempting to jump ahead but lay a solid foundation first.\",\n          createdAt: \"1 week ago\",\n          score: 4,\n          replyingTo: \"maxblagun\",\n          user: {\n            image: \"./images/avatars/image-ramsesmiron.png\",\n            username: \"ramsesmiron\",\n          },\n          replies: [],\n        },\n        {\n          id: 4,\n          content:\n            \"I couldn't agree more with this. Everything moves so fast and it always seems like everyone knows the newest library/framework. But the fundamentals are what stay constant.\",\n          createdAt: \"2 days ago\",\n          score: 2,\n          replyingTo: \"ramsesmiron\",\n          user: {\n            image: \"./images/avatars/image-juliusomo.png\",\n            username: \"juliusomo\",\n          },\n          replies: [],\n        },\n      ],\n    },\n  ],\n};\n\nconst users = [\n  {\n    image: \"./images/avatars/image-juliusomo.png\",\n    username: \"juliusomo\",\n  },\n  {\n    image: \"./images/avatars/image-amyrobson.png\",\n    username: \"amyrobson\",\n  },\n  {\n    image: \"./images/avatars/image-maxblagun.png\",\n    username: \"maxblagun\",\n  },\n  {\n    image: \"./images/avatars/image-ramsesmiron.png\",\n    username: \"ramsesmiron\",\n  },\n];\n\nexport { staticData, users };\n","import React, { useState } from \"react\";\nimport UserCtx from \"./context/user-context\";\nimport CommentCtx from \"./context/comment-context\";\nimport DeleteModal from \"./components/layout/DeleteModal\";\nimport Header from \"./components/layout/Header\";\nimport CommentThread from \"./components/comment/CommentThread\";\nimport Footer from \"./components/layout/Footer\";\n\nimport { getParentRef } from \"./utils/get-parent\";\n// import static/fake data\nimport { staticData, users } from \"./data\";\n\nfunction App() {\n  const [activeUser, setActiveUser] = useState(users[0]);\n  const [data, setData] = useState(staticData.comments);\n  const [idGen, setIdGen] = useState(5);\n  const defaultAlertState = {\n    vis: false,\n    parents: null,\n    idx: null,\n  };\n  const [alert, setAlert] = useState(defaultAlertState);\n\n  const setActiveUserCtx = (username) => {\n    for (let user of users) {\n      if (user.username === username) {\n        setActiveUser(user);\n      }\n    }\n  };\n\n  const generateId = () => {\n    setIdGen((prevId) => prevId + 1);\n    return idGen;\n  };\n\n  const addNewCommentHandler = (comment, parents) => {\n    setData((prevState) => {\n      const newState = [...prevState];\n      const parentPtr = getParentRef(newState, parents);\n      parentPtr.push(comment);\n      return newState;\n    });\n  };\n\n  const editCommentHandler = (comment, parents, idx) => {\n    setData((prevState) => {\n      const newState = [...prevState];\n      const parentPtr = getParentRef(newState, parents);\n      parentPtr[idx] = comment;\n      return newState;\n    });\n  };\n\n  const deleteAlertAction = (parents, idx) => {\n    setAlert({\n      vis: true,\n      parents: parents,\n      idx: idx,\n    });\n  };\n  const deleteConfirm = () => {\n    deleteCommentHandler(alert.parents, alert.idx);\n    setAlert(defaultAlertState);\n  };\n  const deleteCancel = () => {\n    setAlert(defaultAlertState);\n  };\n\n  const deleteCommentHandler = (parents, deleteIdx) => {\n    setData((prevState) => {\n      const newState = [...prevState];\n      let parentPtr = getParentRef(newState, parents);\n      parentPtr.splice(deleteIdx, 1);\n      return newState;\n    });\n  };\n\n  return (\n    <CommentCtx.Provider\n      value={{\n        thread: data,\n        genId: generateId,\n        addComment: addNewCommentHandler,\n        editComment: editCommentHandler,\n        deleteComment: deleteAlertAction,\n      }}\n    >\n      <UserCtx.Provider value={{ users, activeUser, setActiveUserCtx }}>\n        {alert.vis && (\n          <DeleteModal onConfirm={deleteConfirm} onCancel={deleteCancel} />\n        )}\n        <Header />\n        <CommentThread comments={data} />\n        <Footer />\n      </UserCtx.Provider>\n    </CommentCtx.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  // <React.StrictMode>\n  <App />\n  // </React.StrictMode>\n);\n"],"sourceRoot":""}